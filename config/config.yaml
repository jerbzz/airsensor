# CO2 Monitor Configuration
# Edit this file to customize your setup

# General Settings
general:
  log_level: INFO  # DEBUG, INFO, WARNING, ERROR
  update_interval: 5  # seconds between sensor readings
  display_cycle_time: 10  # seconds to show each display screen

# SCD41 CO2 Sensor Settings (Optional Add-on)
scd41:
  enabled: true  # Set to true if you have the SCD41 sensor
  altitude: 150  # meters above sea level (for pressure compensation)
  temperature_offset: 4.0  # degrees C to compensate for self-heating

# Enviro+ Sensor Settings
enviro:
  enabled: true
  # Particulate Matter Sensor (Optional Add-on)
  pm_sensor: true  # Set to true if you have PMS5003 sensor installed
  pm_sensor_type: pms5003  # or pmsa003
  pm_sensor_serialport: /dev/ttyS0  # may be /dev/ttyAMA0 for older Pis
  
  # PM Sensor Power Management (extends sensor lifetime)
  pm_sleep_enabled: true  # Sleep sensor between readings to extend lifespan
  pm_sleep_duration: 180  # Seconds to sleep (default: 180 = 3 minutes)
  pm_warmup_time: 30  # Seconds to warm up after wake (default: 30)
  
  # Environmental Sensors (Built into Enviro+)
  temperature_humidity: true  # BME280
  pressure: true  # BME280
  light: true  # LTR559
  
  # Gas Sensors (Built into Enviro+, requires calibration)
  gas_sensors: true  # MICS6814 - enable after calibration
  
  # Noise (requires additional setup)
  noise: false  # Requires microphone setup

# Display Settings
display:
  enabled: true
  brightness: 1.0  # 0.0 to 1.0
  rotation: 270  # 0, 90, 180, or 270 degrees
  
  # Which screens to show (in order)
  # Screens will automatically skip if required sensors are disabled
  screens:
    - co2_main      # SCD41 CO2 reading (requires SCD41)
    - enviro_temp   # Temperature and humidity (requires SCD41 or Enviro+)
    - enviro_pm     # Particulate matter (requires PM sensor)
    - enviro_gas    # Gas readings (requires gas sensors enabled)
    - enviro_weather # Pressure and forecast (requires Enviro+)
    - summary       # All-in-one summary (shows available sensors)

# MQTT Settings for Home Assistant
mqtt:
  enabled: true
  broker: homeassistant.local  # MQTT broker address (often same as Home Assistant)
                               # Examples: homeassistant.local, 192.168.1.100, mqtt.local
  port: 1883
  username: ""  # Leave empty if no authentication required
  password: ""  # Leave empty if no authentication required
  
  # MQTT Discovery for Home Assistant
  discovery: true
  discovery_prefix: homeassistant
  
  # Base topic for all sensors
  base_topic: co2_monitor/sensor
  
  # Temperature/Humidity Reporting Strategy
  # Options: "both", "scd41_only", "bme280_only", "average", "scd41_primary"
  # - both: Report both SCD41 and BME280 readings separately (requires both)
  # - scd41_only: Only report SCD41 (requires SCD41, cleaner interface)
  # - bme280_only: Only report BME280 (no SCD41 needed)
  # - average: Report average of both sensors (requires both)
  # - scd41_primary: SCD41 as main sensor, BME280 as diagnostic (requires both)
  # If you don't have SCD41, use "bme280_only"
  temp_humidity_mode: scd41_primary
  
  # Device info (shows in Home Assistant)
  device:
    name: CO2 Monitor
    manufacturer: Custom
    model: Pi Zero 2 W + Enviro+ + SCD41
    identifier: co2_monitor_01

# Data Logging
logging:
  enabled: true
  log_file: logs/sensor_data.log
  rotation: daily  # daily, weekly, or size
  max_size_mb: 100
  keep_days: 30

# Alerts (optional - can trigger via MQTT)
alerts:
  enabled: false
  co2_high: 1500  # ppm
  co2_very_high: 2000  # ppm
  pm25_high: 35  # μg/m³
  pm25_very_high: 55  # μg/m³
